"use strict";(()=>{var e={};e.id=62,e.ids=[62],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8189:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>f,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var r={};o.r(r),o.d(r,{POST:()=>p,dynamic:()=>d});var a=o(9303),n=o(8716),s=o(670),u=o(7070),i=o(2096);let d="force-dynamic";async function p(e){try{let t=await e.formData(),o=t.get("file"),r=t.get("auditId"),a=t.get("uploadedBy"),n=t.get("isoStandard");if(!o||!r||!a||!n)return u.NextResponse.json({error:"Missing required fields"},{status:400});if(!["application/pdf","text/plain","image/jpeg","image/png","image/gif"].includes(o.type))return u.NextResponse.json({error:"Unsupported file type"},{status:400});if(o.size>10485760)return u.NextResponse.json({error:"File size too large (max 10MB)"},{status:400});let s=await i.Z.uploadDocument(o,r,a,n),d={...s,createdAt:s.createdAt instanceof Date?s.createdAt.toISOString():s.createdAt?.toDate?.()?.toISOString(),updatedAt:s.updatedAt instanceof Date?s.updatedAt.toISOString():s.updatedAt?.toDate?.()?.toISOString()};return u.NextResponse.json(d,{status:201})}catch(e){return console.error("Failed to upload document:",e),u.NextResponse.json({error:"Failed to upload document"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/documents/upload/route",pathname:"/api/documents/upload",filename:"route",bundlePath:"app/api/documents/upload/route"},resolvedPagePath:"/workspaces/logosaudit/app/api/documents/upload/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g}=c,f="/api/documents/upload/route";function x(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},2096:(e,t,o)=>{o.d(t,{Z:()=>r});class r{static async uploadDocument(e,t){throw Error("Document upload not implemented yet")}static async getDocuments(e){return[]}static async deleteDocument(e,t){throw Error("Document delete not implemented yet")}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[276,972],()=>o(8189));module.exports=r})();