(()=>{var e={};e.id=844,e.ids=[844],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(4362),s(6070),s(5866);var i=s(3191),a=s(8716),n=s(7922),r=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["questions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4362)),"/workspaces/logosaudit/app/questions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6070)),"/workspaces/logosaudit/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/logosaudit/app/questions/page.tsx"],u="/questions/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/questions/page",pathname:"/questions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3872:(e,t,s)=>{Promise.resolve().then(s.bind(s,9034))},9034:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Y});var i=s(326),a=s(7577),n=s(9126),r=s(2643),l=s(772),o=s(567),c=s(2561),d=s(8051),u=s(3095),m=s(2067),p=s(3405),x=s(2566),h=s(5226),f="Switch",[g,y]=(0,u.b)(f),[j,b]=g(f),v=a.forwardRef((e,t)=>{let{__scopeSwitch:s,name:n,checked:r,defaultChecked:l,required:o,disabled:u,value:p="on",onCheckedChange:x,form:g,...y}=e,[b,v]=a.useState(null),N=(0,d.e)(t,e=>v(e)),w=a.useRef(!1),Q=!b||g||!!b.closest("form"),[C,q]=(0,m.T)({prop:r,defaultProp:l??!1,onChange:x,caller:f});return(0,i.jsxs)(j,{scope:s,checked:C,disabled:u,children:[(0,i.jsx)(h.WV.button,{type:"button",role:"switch","aria-checked":C,"aria-required":o,"data-state":k(C),"data-disabled":u?"":void 0,disabled:u,value:p,...y,ref:N,onClick:(0,c.M)(e.onClick,e=>{q(e=>!e),Q&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),Q&&(0,i.jsx)(S,{control:b,bubbles:!w.current,name:n,value:p,checked:C,required:o,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});v.displayName=f;var N="SwitchThumb",w=a.forwardRef((e,t)=>{let{__scopeSwitch:s,...a}=e,n=b(N,s);return(0,i.jsx)(h.WV.span,{"data-state":k(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});w.displayName=N;var S=a.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...r},l)=>{let o=a.useRef(null),c=(0,d.e)(o,l),u=(0,p.D)(s),m=(0,x.t)(t);return a.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==s&&t){let i=new Event("click",{bubbles:n});t.call(e,s),e.dispatchEvent(i)}},[u,s,n]),(0,i.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...r,tabIndex:-1,ref:c,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function k(e){return e?"checked":"unchecked"}S.displayName="SwitchBubbleInput";var Q=s(7863);let C=a.forwardRef(({className:e,...t},s)=>i.jsx(v,{className:(0,Q.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:i.jsx(w,{className:(0,Q.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));C.displayName=v.displayName;var q=s(4432),A=s(4474),Z=s(6557);let P=(0,Z.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var I=s(2714),O=s(3468),R=s(8378),E=s(4659),_=s(7202);let L=(0,Z.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var M=s(8307),D=s(1540),T=s(1788);let z=({level:e})=>i.jsx(o.C,{variant:"outline",className:{critical:"bg-red-100 text-red-800 border-red-200",high:"bg-orange-100 text-orange-800 border-orange-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-green-100 text-green-800 border-green-200"}[e],children:e.toUpperCase()}),U=({question:e,isOmitted:t,onToggleOmission:s,children:a})=>i.jsx(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${t?"opacity-60":""}`,children:(0,i.jsxs)(r.Zb,{className:`hover:shadow-md transition-all ${e.isParent?"border-l-4 border-blue-500":"ml-6 border-l-2 border-gray-300"}`,children:[i.jsx(r.Ol,{className:"pb-3",children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,i.jsxs)(o.C,{variant:"outline",className:"text-xs",children:["Clause ",e.clause]}),i.jsx(z,{level:e.riskLevel}),i.jsx(o.C,{variant:"secondary",className:"text-xs",children:e.category})]}),i.jsx(r.ll,{className:`text-sm ${e.isParent?"font-semibold":"font-medium"}`,children:e.text}),e.industryContext&&(0,i.jsxs)(r.SZ,{className:"mt-2 text-xs",children:[i.jsx("strong",{children:"Industry Context:"})," ",e.industryContext]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[i.jsx(C,{checked:!t,onCheckedChange:()=>s(e.id)}),t?i.jsx(P,{className:"h-4 w-4 text-gray-400"}):i.jsx(I.Z,{className:"h-4 w-4 text-green-600"})]})]})}),a&&i.jsx(r.aY,{className:"pt-0",children:a})]})});function Y(){let{questions:e,omittedQuestions:t,auditScope:s,toggleQuestionOmission:o,getProgress:c,getFilteredQuestions:d}=(0,n.k)(),[u,m]=(0,a.useState)(""),[p,x]=(0,a.useState)("all"),[h,f]=(0,a.useState)("all"),[g,y]=(0,a.useState)(!0),j=c(),b=d(),v=Array.from(new Set(b.flatMap(e=>[e.category,...e.children?.map(e=>e.category)||[]]))),N=b.filter(e=>e.isParent).map(e=>({...e,children:b.filter(t=>t.parentId===e.id)})).filter(e=>{let s=e.text.toLowerCase().includes(u.toLowerCase())||e.children?.some(e=>e.text.toLowerCase().includes(u.toLowerCase())),i="all"===p||e.category===p,a="all"===h||e.riskLevel===h,n=g||!t.has(e.id);return s&&i&&a&&n});return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(T.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Question Management"}),i.jsx("p",{className:"text-gray-600",children:"Configure your audit scope by enabling or omitting questions"}),s.selectedSections.size<7&&(0,i.jsxs)("div",{className:"mt-3 inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[i.jsx(O.Z,{className:"h-4 w-4 mr-1"}),"Showing ",s.selectedSections.size," of 7 sections"]})]}),i.jsx(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(r.Zb,{children:i.jsx(r.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(R.Z,{className:"h-5 w-5 text-blue-600"}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Total Questions"}),i.jsx("p",{className:"text-xl font-bold",children:j.totalQuestions})]})]})})}),i.jsx(r.Zb,{children:i.jsx(r.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(E.Z,{className:"h-5 w-5 text-green-600"}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Active"}),i.jsx("p",{className:"text-xl font-bold",children:j.activeQuestions})]})]})})}),i.jsx(r.Zb,{children:i.jsx(r.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(P,{className:"h-5 w-5 text-orange-600"}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Omitted"}),i.jsx("p",{className:"text-xl font-bold",children:j.omittedQuestions})]})]})})}),i.jsx(r.Zb,{children:i.jsx(r.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(_.Z,{className:"h-5 w-5 text-red-600"}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Critical Risk"}),i.jsx("p",{className:"text-xl font-bold",children:e.filter(e=>"critical"===e.riskLevel||e.children?.some(e=>"critical"===e.riskLevel)).length})]})]})})})]})}),i.jsx(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,i.jsxs)(r.Zb,{children:[i.jsx(r.Ol,{children:(0,i.jsxs)(r.ll,{className:"flex items-center space-x-2",children:[i.jsx(L,{className:"h-5 w-5"}),i.jsx("span",{children:"Filters & Controls"})]})}),(0,i.jsxs)(r.aY,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Search Questions"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(M.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(q.I,{placeholder:"Search questions...",value:u,onChange:e=>m(e.target.value),className:"pl-10"})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Category"}),(0,i.jsxs)(A.Ph,{value:p,onValueChange:x,children:[i.jsx(A.i4,{children:i.jsx(A.ki,{placeholder:"All categories"})}),(0,i.jsxs)(A.Bw,{children:[i.jsx(A.Ql,{value:"all",children:"All Categories"}),v.map(e=>i.jsx(A.Ql,{value:e,children:e},e))]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Risk Level"}),(0,i.jsxs)(A.Ph,{value:h,onValueChange:f,children:[i.jsx(A.i4,{children:i.jsx(A.ki,{placeholder:"All risk levels"})}),(0,i.jsxs)(A.Bw,{children:[i.jsx(A.Ql,{value:"all",children:"All Risk Levels"}),i.jsx(A.Ql,{value:"critical",children:"Critical"}),i.jsx(A.Ql,{value:"high",children:"High"}),i.jsx(A.Ql,{value:"medium",children:"Medium"}),i.jsx(A.Ql,{value:"low",children:"Low"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"View Options"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(C,{checked:g,onCheckedChange:y}),i.jsx("span",{className:"text-sm",children:"Show omitted"})]})]})]}),i.jsx("div",{className:"flex space-x-2",children:(0,i.jsxs)(l.z,{onClick:()=>{let s=new Blob([JSON.stringify({questions:e,omittedQuestions:Array.from(t),exportDate:new Date().toISOString()},null,2)],{type:"application/json"}),i=URL.createObjectURL(s),a=document.createElement("a");a.href=i,a.download=`iso9001-questions-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)},variant:"outline",size:"sm",children:[i.jsx(D.Z,{className:"h-4 w-4 mr-2"}),"Export Questions"]})})]})]})}),i.jsx(T.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:N.map((e,s)=>i.jsx(T.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+.05*s},children:i.jsx(U,{question:e,isOmitted:t.has(e.id),onToggleOmission:o,children:e.children&&e.children.length>0&&i.jsx("div",{className:"space-y-3",children:e.children.map(e=>i.jsx(U,{question:e,isOmitted:t.has(e.id),onToggleOmission:o},e.id))})})},e.id))}),0===N.length&&(0,i.jsxs)(T.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[i.jsx(M.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No questions found"}),i.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms or filters to find questions."})]})]})}},4432:(e,t,s)=>{"use strict";s.d(t,{I:()=>r});var i=s(326),a=s(7577),n=s(7863);let r=a.forwardRef(({className:e,type:t,...s},a)=>i.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));r.displayName="Input"},4474:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>h,Ph:()=>d,Ql:()=>f,i4:()=>m,ki:()=>u});var i=s(326),a=s(7577),n=s(9724),r=s(8393),l=s(6633),o=s(2933),c=s(7863);let d=n.fC;n.ZA;let u=n.B4,m=a.forwardRef(({className:e,children:t,...s},a)=>(0,i.jsxs)(n.xz,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,i.jsx(n.JO,{asChild:!0,children:i.jsx(r.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=n.xz.displayName;let p=a.forwardRef(({className:e,...t},s)=>i.jsx(n.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(l.Z,{className:"h-4 w-4"})}));p.displayName=n.u_.displayName;let x=a.forwardRef(({className:e,...t},s)=>i.jsx(n.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(r.Z,{className:"h-4 w-4"})}));x.displayName=n.$G.displayName;let h=a.forwardRef(({className:e,children:t,position:s="popper",...a},r)=>i.jsx(n.h_,{children:(0,i.jsxs)(n.VY,{ref:r,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[i.jsx(p,{}),i.jsx(n.l_,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(x,{})]})}));h.displayName=n.VY.displayName,a.forwardRef(({className:e,...t},s)=>i.jsx(n.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.__.displayName;let f=a.forwardRef(({className:e,children:t,...s},a)=>(0,i.jsxs)(n.ck,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(n.wU,{children:i.jsx(o.Z,{className:"h-4 w-4"})})}),i.jsx(n.eT,{children:t})]}));f.displayName=n.ck.displayName,a.forwardRef(({className:e,...t},s)=>i.jsx(n.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName},9126:(e,t,s)=>{"use strict";s.d(t,{B:()=>l,k:()=>c});var i=s(8408),a=s(5251),n=s(8593);let r={compliant:100,"minor-nc":75,"major-nc":50,"critical-nc":0,"not-assessed":0},l={"minor-nc":["Minor documentation gap identified - procedure exists but lacks specific detail","Training records incomplete for some personnel - no impact on competency demonstrated","Minor procedural deviation observed - corrective action implemented immediately","Documentation not fully current - content accurate but revision date overdue","Minor calibration delay - equipment still within acceptable tolerance"],"major-nc":["Systematic failure in process implementation affecting multiple areas","Required procedure not implemented as documented - significant deviation observed","Critical training not completed for key personnel affecting process effectiveness","Management review process not conducted as required - missing key elements","Internal audit program not covering all required areas systematically"],"critical-nc":["Immediate risk to public health and safety - process control failure","Complete absence of required safety procedures in critical operations","Contamination risk not controlled - potential for public health impact","Emergency response procedures not established for critical scenarios","Regulatory compliance failure with immediate enforcement implications"]},o={questions:(0,n.buildQuestionHierarchy)(n.ISO9001_QUESTIONS),omittedQuestions:new Set,findings:{},auditScope:{selectedSections:new Set(["section-4","section-5","section-6","section-7","section-8","section-9","section-10"]),customScope:!1},auditInfo:{auditTitle:"",auditDate:new Date().toISOString().split("T")[0],auditor:"",facility:""}},c=(0,i.U)()((0,a.tJ)((e,t)=>({...o,toggleQuestionOmission:t=>{e(e=>{let s=new Set(e.omittedQuestions);return s.has(t)?s.delete(t):s.add(t),{omittedQuestions:s}})},updateFinding:(t,s)=>{e(e=>{let i={...e.findings[t]||{questionId:t,score:"not-assessed",notes:"",evidenceNotes:"",timestamp:new Date},...s,questionId:t,timestamp:new Date};return{findings:{...e.findings,[t]:i}}})},updateAuditInfo:t=>{e(e=>({auditInfo:{...e.auditInfo,...t}}))},updateAuditScope:t=>{e(e=>({auditScope:{...e.auditScope,...t,selectedSections:t.selectedSections?new Set(t.selectedSections):e.auditScope.selectedSections}}))},resetAudit:()=>{e(o)},getActiveQuestions:()=>{let e=t(),s=[],i=t=>{t.forEach(t=>{!e.omittedQuestions.has(t.id)&&(s.push(t),t.children&&i(t.children))})};return i(e.questions),s},getFilteredQuestions:()=>{let e=t(),s=t().getActiveQuestions();return 0===e.auditScope.selectedSections.size?s:s.filter(t=>{let s=t.clause.split(".")[0],i=`section-${s}`;return e.auditScope.selectedSections.has(i)})},getSectionProgress:e=>{let s=t(),i=e.replace("section-",""),a=t().getActiveQuestions().filter(e=>e.clause.split(".")[0]===i),n=a.length,l=a.filter(e=>s.omittedQuestions.has(e.id)).length,o=0,c=0,d=0;a.forEach(e=>{let t=s.findings[e.id];t&&"not-assessed"!==t.score&&(o++,c+=r[t.score]),d+=r.compliant});let u=n>0?o/n*100:0;return{sectionId:e,totalQuestions:n,assessedQuestions:o,omittedQuestions:l,completionPercentage:u,sectionScore:d>0?c/d*100:0}},getProgress:()=>{let e=t(),s=t().getFilteredQuestions(),i=s.length,a=s.filter(t=>e.omittedQuestions.has(t.id)).length,n=s.length-a,l=0,o=0,c=0,d={compliant:0,"minor-nc":0,"major-nc":0,"critical-nc":0,"not-assessed":0};s.forEach(t=>{if(!e.omittedQuestions.has(t.id)){let s=e.findings[t.id];s&&"not-assessed"!==s.score?(l++,o+=r[s.score],d[s.score]++):d["not-assessed"]++,c+=r.compliant}});let u=n>0?l/n*100:0,m=c>0?o/c*100:0,p=Array.from(e.auditScope.selectedSections).map(e=>t().getSectionProgress(e));return{totalQuestions:i,assessedQuestions:l,omittedQuestions:a,activeQuestions:n,completionPercentage:u,scoreBreakdown:d,overallScore:m,sectionProgress:p}},exportAuditData:()=>{let e=t();return JSON.stringify({auditInfo:e.auditInfo,auditScope:{...e.auditScope,selectedSections:Array.from(e.auditScope.selectedSections)},omittedQuestions:Array.from(e.omittedQuestions),findings:e.findings,exportDate:new Date().toISOString()},null,2)},importAuditData:t=>{try{let s=JSON.parse(t);return e(e=>({auditInfo:s.auditInfo||e.auditInfo,auditScope:s.auditScope?{...s.auditScope,selectedSections:new Set(s.auditScope.selectedSections||[])}:e.auditScope,omittedQuestions:new Set(s.omittedQuestions||[]),findings:s.findings||{}})),!0}catch{return!1}}}),{name:"iso9001-audit-store",partialize:e=>({auditInfo:e.auditInfo,auditScope:{...e.auditScope,selectedSections:Array.from(e.auditScope.selectedSections)},omittedQuestions:Array.from(e.omittedQuestions),findings:e.findings}),onRehydrateStorage:()=>e=>{e&&(Array.isArray(e.omittedQuestions)&&(e.omittedQuestions=new Set(e.omittedQuestions)),e.auditScope&&Array.isArray(e.auditScope.selectedSections)&&(e.auditScope.selectedSections=new Set(e.auditScope.selectedSections)))}}))},1540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},3468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(6557).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},4362:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(8570).createProxy)(String.raw`/workspaces/logosaudit/app/questions/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[276,103,788,547,492,474,312],()=>s(3881));module.exports=i})();