(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{3991:function(e,t,s){Promise.resolve().then(s.bind(s,9190))},9190:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var i=s(7437),n=s(6228),a=s(6070),c=s(2869),o=s(5974),l=s(8736),r=s(6221),d=s(3639),m=s(525),u=s(5302),p=s(1047),x=s(44),h=s(2369),j=s(5131),f=s(2735),y=s(7625),g=s(9345),N=s(8728),v=s(2504);let b=e=>{let{icon:t,title:s,description:n,color:c,onClick:l,disabled:r=!1}=e;return(0,i.jsx)(v.E.div,{whileHover:r?{}:{scale:1.02},whileTap:r?{}:{scale:.98},children:(0,i.jsx)(a.Zb,{className:"cursor-pointer transition-all border-2 ".concat(r?"opacity-50 cursor-not-allowed border-gray-200":"hover:shadow-lg hover:border-blue-300"),onClick:r?void 0:l,children:(0,i.jsxs)(a.aY,{className:"p-6 text-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full flex items-center justify-center ".concat(c),children:(0,i.jsx)(t,{className:"h-6 w-6 text-white"})}),(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:s}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:n}),r&&(0,i.jsx)(o.C,{variant:"secondary",className:"mt-2",children:"Coming Soon"})]})})})},S=e=>{let{icon:t,title:s,value:n,color:c,description:o}=e;return(0,i.jsx)(a.Zb,{children:(0,i.jsx)(a.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-600",children:s}),(0,i.jsx)("p",{className:"text-2xl font-bold ".concat(c),children:n}),o&&(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:o})]}),(0,i.jsx)(t,{className:"h-8 w-8 ".concat(c)})]})})})};function w(){let{auditInfo:e,getProgress:t,exportAuditData:s}=(0,n.k)(),w=t(),C=e=>{alert("Generating ".concat(e," report...\n\nThis is a placeholder. In the full implementation, this would generate a comprehensive ").concat(e.toLowerCase()," report with all audit findings, evidence, and recommendations."))},Q=[{icon:l.Z,title:"Executive Summary",description:"High-level overview for management with key findings and recommendations",color:"bg-blue-500",type:"executive"},{icon:r.Z,title:"Detailed Audit Report",description:"Comprehensive report with all findings, evidence, and non-conformances",color:"bg-green-500",type:"detailed"},{icon:d.Z,title:"Non-Conformance Report",description:"Focused report on identified non-conformances and corrective actions",color:"bg-orange-500",type:"nonconformance"},{icon:m.Z,title:"Performance Dashboard",description:"Visual dashboard with charts and performance metrics",color:"bg-purple-500",type:"dashboard",disabled:!0},{icon:u.Z,title:"Compliance Matrix",description:"ISO 9001 clause-by-clause compliance status matrix",color:"bg-cyan-500",type:"compliance",disabled:!0},{icon:p.Z,title:"Action Plan",description:"Prioritized action plan with timelines and responsibilities",color:"bg-indigo-500",type:"actionplan",disabled:!0}],Z={totalQuestions:w.totalQuestions,assessedQuestions:w.assessedQuestions,completionRate:w.completionPercentage,overallScore:w.overallScore,compliantCount:w.scoreBreakdown.compliant,minorNCCount:w.scoreBreakdown["minor-nc"],majorNCCount:w.scoreBreakdown["major-nc"],criticalNCCount:w.scoreBreakdown["critical-nc"],pendingCount:w.scoreBreakdown["not-assessed"]};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(v.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Audit Reports"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Generate comprehensive reports and export audit data"})]}),(0,i.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,i.jsxs)(a.Zb,{children:[(0,i.jsxs)(a.Ol,{children:[(0,i.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,i.jsx)(x.Z,{className:"h-5 w-5"}),(0,i.jsx)("span",{children:"Audit Summary"})]}),(0,i.jsx)(a.SZ,{children:"Current audit status and key information"})]}),(0,i.jsx)(a.aY,{children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(l.Z,{className:"h-4 w-4 text-gray-500"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Audit Title:"}),(0,i.jsx)("span",{className:"text-sm",children:e.auditTitle||"Not specified"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(p.Z,{className:"h-4 w-4 text-gray-500"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Audit Date:"}),(0,i.jsx)("span",{className:"text-sm",children:e.auditDate})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(h.Z,{className:"h-4 w-4 text-gray-500"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Lead Auditor:"}),(0,i.jsx)("span",{className:"text-sm",children:e.auditor||"Not specified"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(x.Z,{className:"h-4 w-4 text-gray-500"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Facility:"}),(0,i.jsx)("span",{className:"text-sm",children:e.facility||"Not specified"})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-sm font-medium",children:"Completion Rate:"}),(0,i.jsxs)(o.C,{variant:"outline",className:"text-blue-600",children:[Z.completionRate.toFixed(1),"%"]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-sm font-medium",children:"Overall Score:"}),(0,i.jsxs)(o.C,{variant:"outline",className:Z.overallScore>=80?"text-green-600":Z.overallScore>=60?"text-yellow-600":"text-red-600",children:[Z.overallScore.toFixed(1),"%"]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-sm font-medium",children:"Questions Assessed:"}),(0,i.jsxs)("span",{className:"text-sm",children:[Z.assessedQuestions," / ",Z.totalQuestions]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-sm font-medium",children:"Non-Conformances:"}),(0,i.jsx)("span",{className:"text-sm text-red-600",children:Z.minorNCCount+Z.majorNCCount+Z.criticalNCCount})]})]})]})})]})}),(0,i.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,i.jsx)(S,{icon:u.Z,title:"Compliant",value:Z.compliantCount,color:"text-green-600",description:"Fully compliant findings"}),(0,i.jsx)(S,{icon:d.Z,title:"Minor NC",value:Z.minorNCCount,color:"text-yellow-600",description:"Minor non-conformances"}),(0,i.jsx)(S,{icon:j.Z,title:"Major NC",value:Z.majorNCCount,color:"text-orange-600",description:"Major non-conformances"}),(0,i.jsx)(S,{icon:j.Z,title:"Critical NC",value:Z.criticalNCCount,color:"text-red-600",description:"Critical non-conformances"})]})}),(0,i.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,i.jsxs)(a.Zb,{children:[(0,i.jsxs)(a.Ol,{children:[(0,i.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,i.jsx)(l.Z,{className:"h-5 w-5"}),(0,i.jsx)("span",{children:"Generate Reports"})]}),(0,i.jsx)(a.SZ,{children:"Create professional audit reports for different audiences"})]}),(0,i.jsx)(a.aY,{children:(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map((e,t)=>(0,i.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+.1*t},children:(0,i.jsx)(b,{...e,onClick:()=>C(e.type)})},e.type))})})]})}),(0,i.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,i.jsxs)(a.Zb,{children:[(0,i.jsxs)(a.Ol,{children:[(0,i.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,i.jsx)(f.Z,{className:"h-5 w-5"}),(0,i.jsx)("span",{children:"Export & Share"})]}),(0,i.jsx)(a.SZ,{children:"Export audit data and share reports"})]}),(0,i.jsx)(a.aY,{children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)(c.z,{onClick:()=>{let t=new Blob([s()],{type:"application/json"}),i=URL.createObjectURL(t),n=document.createElement("a");n.href=i,n.download="iso9001-audit-".concat(e.facility||"export","-").concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)},className:"h-20 flex flex-col space-y-2",variant:"outline",children:[(0,i.jsx)(f.Z,{className:"h-6 w-6"}),(0,i.jsx)("span",{children:"Export Raw Data"}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"JSON format"})]}),(0,i.jsxs)(c.z,{onClick:()=>alert("Print functionality would be implemented here"),className:"h-20 flex flex-col space-y-2",variant:"outline",disabled:!0,children:[(0,i.jsx)(y.Z,{className:"h-6 w-6"}),(0,i.jsx)("span",{children:"Print Reports"}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"Coming soon"})]}),(0,i.jsxs)(c.z,{onClick:()=>alert("Email functionality would be implemented here"),className:"h-20 flex flex-col space-y-2",variant:"outline",disabled:!0,children:[(0,i.jsx)(g.Z,{className:"h-6 w-6"}),(0,i.jsx)("span",{children:"Email Reports"}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"Coming soon"})]})]})})]})}),(0,i.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,i.jsxs)(a.Zb,{className:"bg-blue-50 border-blue-200",children:[(0,i.jsx)(a.Ol,{children:(0,i.jsx)(a.ll,{className:"text-blue-900",children:"Report Features (Full Implementation)"})}),(0,i.jsxs)(a.aY,{className:"text-blue-800",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"Executive Summary Report:"}),(0,i.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,i.jsx)("li",{children:"• Overall compliance score and trend analysis"}),(0,i.jsx)("li",{children:"• Key findings and critical non-conformances"}),(0,i.jsx)("li",{children:"• Risk assessment and priority recommendations"}),(0,i.jsx)("li",{children:"• Resource requirements and timeline"}),(0,i.jsx)("li",{children:"• Management dashboard with KPIs"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"Detailed Audit Report:"}),(0,i.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,i.jsx)("li",{children:"• Clause-by-clause assessment results"}),(0,i.jsx)("li",{children:"• Evidence documentation and references"}),(0,i.jsx)("li",{children:"• Non-conformance details and root causes"}),(0,i.jsx)("li",{children:"• Corrective action recommendations"}),(0,i.jsx)("li",{children:"• Appendices with supporting documentation"})]})]})]}),(0,i.jsxs)("div",{className:"mt-4 p-4 bg-blue-100 rounded-lg",children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"Water Utility Specific Elements:"}),(0,i.jsx)("p",{className:"text-sm",children:"Reports will include industry-specific sections covering water quality compliance, public health protection measures, environmental impact assessments, regulatory compliance status, and emergency response capabilities."})]})]})]})}),(0,i.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:(0,i.jsx)(a.Zb,{className:"bg-yellow-50 border-yellow-200",children:(0,i.jsx)(a.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)(N.Z,{className:"h-6 w-6 text-yellow-600 mt-1"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Implementation Roadmap"}),(0,i.jsx)("p",{className:"text-yellow-800 text-sm mb-3",children:"The reporting module is designed for comprehensive audit documentation. Full implementation would include:"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-yellow-800 text-sm",children:[(0,i.jsxs)("ul",{className:"space-y-1",children:[(0,i.jsx)("li",{children:"• PDF report generation with professional templates"}),(0,i.jsx)("li",{children:"• Interactive charts and visualizations"}),(0,i.jsx)("li",{children:"• Automated compliance scoring algorithms"}),(0,i.jsx)("li",{children:"• Integration with evidence management system"})]}),(0,i.jsxs)("ul",{className:"space-y-1",children:[(0,i.jsx)("li",{children:"• Email distribution and scheduling"}),(0,i.jsx)("li",{children:"• Report versioning and approval workflows"}),(0,i.jsx)("li",{children:"• Integration with external QMS platforms"}),(0,i.jsx)("li",{children:"• Regulatory reporting format compliance"})]})]})]})]})})})})]})}},6228:function(e,t,s){"use strict";s.d(t,{B:function(){return o},k:function(){return r}});var i=s(3011),n=s(6885),a=s(6808);let c={compliant:100,"minor-nc":75,"major-nc":50,"critical-nc":0,"not-assessed":0},o={"minor-nc":["Minor documentation gap identified - procedure exists but lacks specific detail","Training records incomplete for some personnel - no impact on competency demonstrated","Minor procedural deviation observed - corrective action implemented immediately","Documentation not fully current - content accurate but revision date overdue","Minor calibration delay - equipment still within acceptable tolerance"],"major-nc":["Systematic failure in process implementation affecting multiple areas","Required procedure not implemented as documented - significant deviation observed","Critical training not completed for key personnel affecting process effectiveness","Management review process not conducted as required - missing key elements","Internal audit program not covering all required areas systematically"],"critical-nc":["Immediate risk to public health and safety - process control failure","Complete absence of required safety procedures in critical operations","Contamination risk not controlled - potential for public health impact","Emergency response procedures not established for critical scenarios","Regulatory compliance failure with immediate enforcement implications"]},l={questions:(0,a.buildQuestionHierarchy)(a.ISO9001_QUESTIONS),omittedQuestions:new Set,findings:{},auditScope:{selectedSections:new Set(["section-4","section-5","section-6","section-7","section-8","section-9","section-10"]),customScope:!1},auditInfo:{auditTitle:"",auditDate:new Date().toISOString().split("T")[0],auditor:"",facility:""}},r=(0,i.U)()((0,n.tJ)((e,t)=>({...l,toggleQuestionOmission:t=>{e(e=>{let s=new Set(e.omittedQuestions);return s.has(t)?s.delete(t):s.add(t),{omittedQuestions:s}})},updateFinding:(t,s)=>{e(e=>{let i={...e.findings[t]||{questionId:t,score:"not-assessed",notes:"",evidenceNotes:"",timestamp:new Date},...s,questionId:t,timestamp:new Date};return{findings:{...e.findings,[t]:i}}})},updateAuditInfo:t=>{e(e=>({auditInfo:{...e.auditInfo,...t}}))},updateAuditScope:t=>{e(e=>({auditScope:{...e.auditScope,...t,selectedSections:t.selectedSections?new Set(t.selectedSections):e.auditScope.selectedSections}}))},resetAudit:()=>{e(l)},getActiveQuestions:()=>{let e=t(),s=[],i=t=>{t.forEach(t=>{!e.omittedQuestions.has(t.id)&&(s.push(t),t.children&&i(t.children))})};return i(e.questions),s},getFilteredQuestions:()=>{let e=t(),s=t().getActiveQuestions();return 0===e.auditScope.selectedSections.size?s:s.filter(t=>{let s=t.clause.split(".")[0];return e.auditScope.selectedSections.has("section-".concat(s))})},getSectionProgress:e=>{let s=t(),i=e.replace("section-",""),n=t().getActiveQuestions().filter(e=>e.clause.split(".")[0]===i),a=n.length,o=n.filter(e=>s.omittedQuestions.has(e.id)).length,l=0,r=0,d=0;n.forEach(e=>{let t=s.findings[e.id];t&&"not-assessed"!==t.score&&(l++,r+=c[t.score]),d+=c.compliant});let m=a>0?l/a*100:0;return{sectionId:e,totalQuestions:a,assessedQuestions:l,omittedQuestions:o,completionPercentage:m,sectionScore:d>0?r/d*100:0}},getProgress:()=>{let e=t(),s=t().getFilteredQuestions(),i=s.length,n=s.filter(t=>e.omittedQuestions.has(t.id)).length,a=s.length-n,o=0,l=0,r=0,d={compliant:0,"minor-nc":0,"major-nc":0,"critical-nc":0,"not-assessed":0};s.forEach(t=>{if(!e.omittedQuestions.has(t.id)){let s=e.findings[t.id];s&&"not-assessed"!==s.score?(o++,l+=c[s.score],d[s.score]++):d["not-assessed"]++,r+=c.compliant}});let m=a>0?o/a*100:0,u=r>0?l/r*100:0,p=Array.from(e.auditScope.selectedSections).map(e=>t().getSectionProgress(e));return{totalQuestions:i,assessedQuestions:o,omittedQuestions:n,activeQuestions:a,completionPercentage:m,scoreBreakdown:d,overallScore:u,sectionProgress:p}},exportAuditData:()=>{let e=t();return JSON.stringify({auditInfo:e.auditInfo,auditScope:{...e.auditScope,selectedSections:Array.from(e.auditScope.selectedSections)},omittedQuestions:Array.from(e.omittedQuestions),findings:e.findings,exportDate:new Date().toISOString()},null,2)},importAuditData:t=>{try{let s=JSON.parse(t);return e(e=>({auditInfo:s.auditInfo||e.auditInfo,auditScope:s.auditScope?{...s.auditScope,selectedSections:new Set(s.auditScope.selectedSections||[])}:e.auditScope,omittedQuestions:new Set(s.omittedQuestions||[]),findings:s.findings||{}})),!0}catch(e){return!1}}}),{name:"iso9001-audit-store",partialize:e=>({auditInfo:e.auditInfo,auditScope:{...e.auditScope,selectedSections:Array.from(e.auditScope.selectedSections)},omittedQuestions:Array.from(e.omittedQuestions),findings:e.findings}),onRehydrateStorage:()=>e=>{e&&(Array.isArray(e.omittedQuestions)&&(e.omittedQuestions=new Set(e.omittedQuestions)),e.auditScope&&Array.isArray(e.auditScope.selectedSections)&&(e.auditScope.selectedSections=new Set(e.auditScope.selectedSections)))}}))}},function(e){e.O(0,[317,504,856,249,971,117,744],function(){return e(e.s=3991)}),_N_E=e.O()}]);