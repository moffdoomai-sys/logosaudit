(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{5425:function(e,t,s){Promise.resolve().then(s.bind(s,6737))},6737:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var i=s(7437),n=s(2265),a=s(9376),r=s(6228),o=s(6632),c=s(6070),l=s(2869),d=s(9270),u=s(401),m=s(4508);let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)(d.fC,{ref:t,className:(0,m.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...n,children:(0,i.jsx)(d.z$,{className:(0,m.cn)("flex items-center justify-center text-current"),children:(0,i.jsx)(u.Z,{className:"h-4 w-4"})})})});p.displayName=d.fC.displayName;var x=s(5974),f=s(6512),g=s(271);let h=g.fC,v=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)(g.aV,{ref:t,className:(0,m.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});v.displayName=g.aV.displayName;let y=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)(g.xz,{ref:t,className:(0,m.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n})});y.displayName=g.xz.displayName;let j=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)(g.VY,{ref:t,className:(0,m.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n})});j.displayName=g.VY.displayName;var b=s(5613),N=s(1239),S=s(2252),w=s(3639),k=s(5302),A=s(1769),C=s(5805),I=s(8896),Z=s(8728),Q=s(3276),E=s(6221),O=s(8906),R=s(8736),z=s(2023),D=s(6858),q=s(2504);let M=e=>{switch(e){case"critical":return(0,i.jsx)(N.Z,{className:"h-4 w-4 text-red-500"});case"high":return(0,i.jsx)(S.Z,{className:"h-4 w-4 text-orange-500"});case"medium":return(0,i.jsx)(w.Z,{className:"h-4 w-4 text-amber-500"});case"low":return(0,i.jsx)(k.Z,{className:"h-4 w-4 text-emerald-500"});default:return(0,i.jsx)(k.Z,{className:"h-4 w-4 text-slate-500"})}},F=e=>{switch(e){case"4":return A.Z;case"5":return C.Z;case"6":return I.Z;case"7":return Z.Z;case"8":return Q.Z;case"9":return E.Z;case"10":return O.Z;default:return R.Z}};function T(){let e=(0,a.useRouter)(),{auditScope:t,updateAuditScope:s}=(0,r.k)(),[d,u]=(0,n.useState)(t.selectedSections),[m,g]=(0,n.useState)(t.template),N=e=>{let t=o.uU.find(t=>t.id===e);t&&(u(new Set(t.sections)),g(e))},S=e=>{let t=new Set(d);t.has(e)?t.delete(e):t.add(e),u(t),g(void 0)},k=Array.from(d).reduce((e,t)=>{let s=o.A.find(e=>e.id===t);return e+((null==s?void 0:s.questionCount)||0)},0);return(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsx)(q.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,i.jsx)("div",{className:"h-12 w-12 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg",children:(0,i.jsx)(I.Z,{className:"h-7 w-7 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-4xl font-bold logos-heading",children:"Audit Scope Configuration"}),(0,i.jsx)("p",{className:"logos-text text-lg",children:"Define your assessment scope and select relevant ISO 9001 sections"})]})]})}),(0,i.jsxs)(h,{defaultValue:"templates",className:"w-full",children:[(0,i.jsxs)(v,{className:"grid w-full grid-cols-2 mb-8",children:[(0,i.jsx)(y,{value:"templates",className:"text-base py-3",children:"Quick Templates"}),(0,i.jsx)(y,{value:"custom",className:"text-base py-3",children:"Custom Selection"})]}),(0,i.jsx)(j,{value:"templates",className:"space-y-6",children:(0,i.jsx)(q.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,i.jsxs)(c.Zb,{className:"logos-card",children:[(0,i.jsxs)(c.Ol,{children:[(0,i.jsxs)(c.ll,{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"p-2 rounded-lg bg-violet-100",children:(0,i.jsx)(z.Z,{className:"h-5 w-5 text-violet-600"})}),(0,i.jsx)("span",{children:"Pre-configured Templates"})]}),(0,i.jsx)(c.SZ,{children:"Select from carefully designed audit templates based on common assessment needs"})]}),(0,i.jsx)(c.aY,{children:(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.uU.map(e=>(0,i.jsx)(q.E.div,{whileHover:{scale:1.02},className:"group",children:(0,i.jsx)(c.Zb,{className:"cursor-pointer transition-all duration-200 ".concat(m===e.id?"border-violet-300 bg-violet-50/50 shadow-md":"logos-card hover:border-violet-200"),onClick:()=>N(e.id),children:(0,i.jsx)(c.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h3",{className:"font-semibold text-lg logos-heading",children:e.name}),(0,i.jsx)("p",{className:"text-sm logos-text",children:e.description})]}),(0,i.jsxs)(x.C,{variant:"outline",className:"bg-violet-100 text-violet-700 border-violet-200",children:[e.sections.length," sections"]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xs font-medium logos-text-muted mb-2",children:"INCLUDED SECTIONS:"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:e.sections.map(e=>{let t=o.A.find(t=>t.id===e);return(0,i.jsx)(x.C,{variant:"secondary",className:"text-xs",children:null==t?void 0:t.number},e)})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xs font-medium logos-text-muted mb-2",children:"RECOMMENDED FOR:"}),(0,i.jsx)("div",{className:"space-y-1",children:e.recommendedFor.slice(0,2).map((e,t)=>(0,i.jsxs)("p",{className:"text-xs logos-text flex items-center space-x-1",children:[(0,i.jsx)(D.Z,{className:"h-3 w-3 text-violet-500"}),(0,i.jsx)("span",{children:e})]},t))})]})]})]})})})},e.id))})})]})})}),(0,i.jsx)(j,{value:"custom",className:"space-y-6",children:(0,i.jsx)(q.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,i.jsxs)(c.Zb,{className:"logos-card",children:[(0,i.jsxs)(c.Ol,{children:[(0,i.jsxs)(c.ll,{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"p-2 rounded-lg bg-emerald-100",children:(0,i.jsx)(Z.Z,{className:"h-5 w-5 text-emerald-600"})}),(0,i.jsx)("span",{children:"Custom Section Selection"})]}),(0,i.jsx)(c.SZ,{children:"Manually select specific ISO 9001 sections for your customized audit scope"})]}),(0,i.jsx)(c.aY,{children:(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.A.map(e=>{let t=F(e.number),s=d.has(e.id);return(0,i.jsx)(q.E.div,{whileHover:{scale:1.02},className:"group",children:(0,i.jsx)(c.Zb,{className:"cursor-pointer transition-all duration-200 ".concat(s?"border-violet-300 bg-violet-50/50 shadow-md":"logos-card hover:border-violet-200"),onClick:()=>S(e.id),children:(0,i.jsx)(c.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(p,{checked:s,onChange:()=>{},className:"mt-1"}),(0,i.jsx)("div",{className:"p-2 rounded-lg ".concat(s?"bg-violet-100":"bg-slate-100 group-hover:bg-violet-50"),children:(0,i.jsx)(t,{className:"h-5 w-5 ".concat(s?"text-violet-600":"text-slate-600 group-hover:text-violet-600"," transition-colors duration-200")})})]}),(0,i.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{className:"font-semibold logos-heading",children:["Section ",e.number,": ",e.title]}),(0,i.jsx)("p",{className:"text-sm logos-text mt-1",children:e.description})]}),(0,i.jsxs)(x.C,{variant:"outline",className:"ml-2",children:[e.questionCount," questions"]})]}),(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[M(e.riskLevel),(0,i.jsxs)("span",{className:"text-xs font-medium capitalize logos-text-muted",children:[e.riskLevel," Priority"]})]})}),(0,i.jsx)("div",{children:(0,i.jsx)("p",{className:"text-xs logos-text",children:e.industryRelevance})})]})]})})})},e.id)})})})]})})})]}),d.size>0&&(0,i.jsx)(q.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,i.jsxs)(c.Zb,{className:"logos-card border-violet-200 bg-violet-50/30",children:[(0,i.jsx)(c.Ol,{children:(0,i.jsxs)(c.ll,{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"p-2 rounded-lg bg-violet-100",children:(0,i.jsx)(I.Z,{className:"h-5 w-5 text-violet-600"})}),(0,i.jsx)("span",{children:"Audit Scope Summary"})]})}),(0,i.jsxs)(c.aY,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-3xl font-bold text-violet-600",children:d.size}),(0,i.jsx)("p",{className:"text-sm logos-text-muted",children:"Sections Selected"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-3xl font-bold text-violet-600",children:k}),(0,i.jsx)("p",{className:"text-sm logos-text-muted",children:"Total Questions"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-3xl font-bold text-violet-600",children:m?"Template":"Custom"}),(0,i.jsx)("p",{className:"text-sm logos-text-muted",children:"Scope Type"})]})]}),(0,i.jsx)(f.Z,{}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from(d).map(e=>{let t=o.A.find(t=>t.id===e);return(0,i.jsxs)(x.C,{variant:"secondary",className:"bg-violet-100 text-violet-700 border-violet-200",children:["Section ",null==t?void 0:t.number,": ",null==t?void 0:t.title]},e)})}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsxs)(l.z,{onClick:()=>{s({selectedSections:d,template:m,customScope:!m}),e.push("/questions")},className:"logos-button-primary px-8 py-3 text-base",size:"lg",children:["Configure Audit Scope",(0,i.jsx)(D.Z,{className:"ml-2 h-5 w-5"})]})})]})]})}),0===d.size&&(0,i.jsx)(q.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,i.jsxs)(b.bZ,{className:"border-amber-200 bg-amber-50/50",children:[(0,i.jsx)(w.Z,{className:"h-5 w-5 text-amber-600"}),(0,i.jsx)(b.X,{className:"text-amber-700",children:"Please select at least one section or template to continue with your audit configuration."})]})})]})}},5613:function(e,t,s){"use strict";s.d(t,{X:function(){return l},bZ:function(){return c}});var i=s(7437),n=s(2265),a=s(7712),r=s(4508);let o=(0,a.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,...a}=e;return(0,i.jsx)("div",{ref:t,role:"alert",className:(0,r.cn)(o({variant:n}),s),...a})});c.displayName="Alert",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)("h5",{ref:t,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",s),...n})}).displayName="AlertTitle";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",s),...n})});l.displayName="AlertDescription"},6512:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var i=s(7437),n=s(2265),a=s(5156),r=s(4508);let o=n.forwardRef((e,t)=>{let{className:s,orientation:n="horizontal",decorative:o=!0,...c}=e;return(0,i.jsx)(a.f,{ref:t,decorative:o,orientation:n,className:(0,r.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",s),...c})});o.displayName=a.f.displayName},6228:function(e,t,s){"use strict";s.d(t,{B:function(){return o},k:function(){return l}});var i=s(3011),n=s(6885),a=s(6808);let r={compliant:100,"minor-nc":75,"major-nc":50,"critical-nc":0,"not-assessed":0},o={"minor-nc":["Minor documentation gap identified - procedure exists but lacks specific detail","Training records incomplete for some personnel - no impact on competency demonstrated","Minor procedural deviation observed - corrective action implemented immediately","Documentation not fully current - content accurate but revision date overdue","Minor calibration delay - equipment still within acceptable tolerance"],"major-nc":["Systematic failure in process implementation affecting multiple areas","Required procedure not implemented as documented - significant deviation observed","Critical training not completed for key personnel affecting process effectiveness","Management review process not conducted as required - missing key elements","Internal audit program not covering all required areas systematically"],"critical-nc":["Immediate risk to public health and safety - process control failure","Complete absence of required safety procedures in critical operations","Contamination risk not controlled - potential for public health impact","Emergency response procedures not established for critical scenarios","Regulatory compliance failure with immediate enforcement implications"]},c={questions:(0,a.buildQuestionHierarchy)(a.ISO9001_QUESTIONS),omittedQuestions:new Set,findings:{},auditScope:{selectedSections:new Set(["section-4","section-5","section-6","section-7","section-8","section-9","section-10"]),customScope:!1},auditInfo:{auditTitle:"",auditDate:new Date().toISOString().split("T")[0],auditor:"",facility:""}},l=(0,i.U)()((0,n.tJ)((e,t)=>({...c,toggleQuestionOmission:t=>{e(e=>{let s=new Set(e.omittedQuestions);return s.has(t)?s.delete(t):s.add(t),{omittedQuestions:s}})},updateFinding:(t,s)=>{e(e=>{let i={...e.findings[t]||{questionId:t,score:"not-assessed",notes:"",evidenceNotes:"",timestamp:new Date},...s,questionId:t,timestamp:new Date};return{findings:{...e.findings,[t]:i}}})},updateAuditInfo:t=>{e(e=>({auditInfo:{...e.auditInfo,...t}}))},updateAuditScope:t=>{e(e=>({auditScope:{...e.auditScope,...t,selectedSections:t.selectedSections?new Set(t.selectedSections):e.auditScope.selectedSections}}))},resetAudit:()=>{e(c)},getActiveQuestions:()=>{let e=t(),s=[],i=t=>{t.forEach(t=>{!e.omittedQuestions.has(t.id)&&(s.push(t),t.children&&i(t.children))})};return i(e.questions),s},getFilteredQuestions:()=>{let e=t(),s=t().getActiveQuestions();return 0===e.auditScope.selectedSections.size?s:s.filter(t=>{let s=t.clause.split(".")[0];return e.auditScope.selectedSections.has("section-".concat(s))})},getSectionProgress:e=>{let s=t(),i=e.replace("section-",""),n=t().getActiveQuestions().filter(e=>e.clause.split(".")[0]===i),a=n.length,o=n.filter(e=>s.omittedQuestions.has(e.id)).length,c=0,l=0,d=0;n.forEach(e=>{let t=s.findings[e.id];t&&"not-assessed"!==t.score&&(c++,l+=r[t.score]),d+=r.compliant});let u=a>0?c/a*100:0;return{sectionId:e,totalQuestions:a,assessedQuestions:c,omittedQuestions:o,completionPercentage:u,sectionScore:d>0?l/d*100:0}},getProgress:()=>{let e=t(),s=t().getFilteredQuestions(),i=s.length,n=s.filter(t=>e.omittedQuestions.has(t.id)).length,a=s.length-n,o=0,c=0,l=0,d={compliant:0,"minor-nc":0,"major-nc":0,"critical-nc":0,"not-assessed":0};s.forEach(t=>{if(!e.omittedQuestions.has(t.id)){let s=e.findings[t.id];s&&"not-assessed"!==s.score?(o++,c+=r[s.score],d[s.score]++):d["not-assessed"]++,l+=r.compliant}});let u=a>0?o/a*100:0,m=l>0?c/l*100:0,p=Array.from(e.auditScope.selectedSections).map(e=>t().getSectionProgress(e));return{totalQuestions:i,assessedQuestions:o,omittedQuestions:n,activeQuestions:a,completionPercentage:u,scoreBreakdown:d,overallScore:m,sectionProgress:p}},exportAuditData:()=>{let e=t();return JSON.stringify({auditInfo:e.auditInfo,auditScope:{...e.auditScope,selectedSections:Array.from(e.auditScope.selectedSections)},omittedQuestions:Array.from(e.omittedQuestions),findings:e.findings,exportDate:new Date().toISOString()},null,2)},importAuditData:t=>{try{let s=JSON.parse(t);return e(e=>({auditInfo:s.auditInfo||e.auditInfo,auditScope:s.auditScope?{...s.auditScope,selectedSections:new Set(s.auditScope.selectedSections||[])}:e.auditScope,omittedQuestions:new Set(s.omittedQuestions||[]),findings:s.findings||{}})),!0}catch(e){return!1}}}),{name:"iso9001-audit-store",partialize:e=>({auditInfo:e.auditInfo,auditScope:{...e.auditScope,selectedSections:Array.from(e.auditScope.selectedSections)},omittedQuestions:Array.from(e.omittedQuestions),findings:e.findings}),onRehydrateStorage:()=>e=>{e&&(Array.isArray(e.omittedQuestions)&&(e.omittedQuestions=new Set(e.omittedQuestions)),e.auditScope&&Array.isArray(e.auditScope.selectedSections)&&(e.auditScope.selectedSections=new Set(e.auditScope.selectedSections)))}}))},6632:function(e,t,s){"use strict";s.d(t,{$Q:function(){return l},A:function(){return o},GG:function(){return d},ae:function(){return c},uU:function(){return r},zg:function(){return a}});let i=[{id:"brand-identity",title:"Brand Identity",description:"Logo design, color palette, typography",category:"visual",standardId:"iso9001",number:"4",questionCount:12,riskLevel:"high",industryRelevance:"Critical for brand consistency and recognition"},{id:"brand-messaging",title:"Brand Messaging",description:"Voice, tone, key messages",category:"content",standardId:"iso9001",number:"5",questionCount:8,riskLevel:"medium",industryRelevance:"Important for communication effectiveness"},{id:"brand-application",title:"Brand Application",description:"How brand is applied across touchpoints",category:"implementation",standardId:"iso9001",number:"6",questionCount:15,riskLevel:"high",industryRelevance:"Essential for consistent brand experience"}],n=[{id:"iso9001",name:"ISO 9001:2015",description:"Quality Management Systems"},{id:"iso45001",name:"ISO 45001:2018",description:"Occupational Health and Safety Management Systems"},{id:"iso14001",name:"ISO 14001:2015",description:"Environmental Management Systems"}],a=n,r=[{id:"basic-brand-audit",name:"Basic Brand Audit",description:"Comprehensive brand assessment",sections:["brand-identity","brand-messaging","brand-application"],recommendedFor:["Initial brand assessment","Brand consistency evaluation","Marketing alignment review"]},{id:"comprehensive-audit",name:"Comprehensive ISO 9001 Audit",description:"Full system assessment covering all sections",sections:["brand-identity","brand-messaging","brand-application"],recommendedFor:["Annual management review","Certification preparation","Complete system evaluation"]},{id:"leadership-focus",name:"Leadership & Management Focus",description:"Focus on leadership and organizational context",sections:["brand-identity","brand-messaging"],recommendedFor:["Management system maturity assessment","Leadership effectiveness review","Strategic alignment evaluation"]}],o=i,c=e=>i.find(t=>t.id===e),l=e=>n.find(t=>t.id===e),d=e=>i.filter(t=>t.standardId===e)}},function(e){e.O(0,[317,504,77,155,578,249,971,117,744],function(){return e(e.s=5425)}),_N_E=e.O()}]);